(this["webpackJsonpthermodynamic-diagram-solver"]=this["webpackJsonpthermodynamic-diagram-solver"]||[]).push([[0],{240:function(e,t,r){},341:function(e,t,r){},451:function(e,t,r){},456:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(61),o=r.n(s),i=r(21),c=r(222),u=r(223),l=r(230),p=r(231),d=function(e,t){return t in e&&void 0!==e[t]},h=function(e,t){return t in e&&void 0===e[t]};function j(e){for(var t,r="";e>0;)t=(e-1)%26,r=String.fromCharCode(65+t)+r,e=(e-t)/26|0;return r||void 0}function m(e,t){var r=e-1;return-1===r&&(r=t.steps.length-1),r}function b(e,t){var r=e+1;return r===t.steps.length&&(r=0),r}var y=8.3145,f=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return r}(Object(p.a)(Error)),O=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return r}(Object(p.a)(Error)),v=function(e){return["temperature"in e&&void 0!==e.temperature,"volume"in e&&void 0!==e.volume,"pressure"in e&&void 0!==e.pressure]},x=function(e,t){var r=Object.assign({},e),a=v(r),n=Object(i.a)(a,3),s=n[0],o=n[1],c=n[2];if(s+c+o<2)throw new f("Must specify two of the constraints in point: ".concat(JSON.stringify(r)));if(s&&c&&o){var u=r.pressure*r.volume/(y*t.moles);if(Math.abs(u-r.temperature)>1e-4)throw new O("Point ".concat(JSON.stringify(r)," is not a valid solution to the PVT equation"));return r}return!s&&c&&o&&(r.temperature=r.pressure*r.volume/(y*t.moles)),!o&&c&&s&&(r.volume=r.temperature*y*t.moles/r.pressure),!c&&o&&s&&(r.pressure=r.temperature*y*t.moles/r.volume),r},g=function(e,t){var r=Object.assign({},e),a=v(r),n=Object(i.a)(a,3),s=n[0],o=n[1],c=n[2];if(s+o+c===0)throw new f("Must provide atleast one constraint (P V or T) for each point");return s+o+c>1&&((r=x(r,t)).entropyCalculationComponent=Math.pow(r.pressure,t.isochoricHeatCapacity)*Math.pow(r.volume,t.isochoricHeatCapacity+y)),r},C=function(e,t,r,a,n){return void 0!==a?r=Math.pow(e/Math.pow(a*n.moles*y,n.isochoricHeatCapacity),1/y):void 0!==r?t=Math.pow(e/Math.pow(r,n.isochoricHeatCapacity+y),1/n.isochoricHeatCapacity):void 0!==t&&(r=Math.pow(e/Math.pow(t,n.isochoricHeatCapacity),1/(n.isochoricHeatCapacity+y))),{pressure:t,volume:r,temperature:a}},w={R:y,solvePVT:x,solveEntropyChange:function(e,t){var r=Object.assign({},e),a=d(r,"entropyChange");if(a+d(r,"pressure_1")+d(r,"volume_1")+d(r,"temperature_1")+d(r,"pressure_2")+d(r,"volume_2")+d(r,"temperature_2")<4)throw new f("Must specify atleast 4 constraints");var n,s,o,c,u,l=function(e){return[{pressure:e.pressure_1,volume:e.volume_1,temperature:e.temperature_1},{pressure:e.pressure_2,volume:e.volume_2,temperature:e.temperature_2}]}(r),p=Object(i.a)(l,2),h=p[0],j=p[1];if(c=u=!1,"entropyCalculationComponent"in(h=g(h,t))&&(s=h.entropyCalculationComponent,u=!0),"entropyCalculationComponent"in(j=g(j,t))&&(n=j.entropyCalculationComponent,c=!0),o=Math.exp(r.entropyChange/t.moles),a&&c&&u){var m=n/s;if(Math.abs(m-o)>1e-4)throw new O("Step ".concat(JSON.stringify(e)," is not a valid solution for the entropy change,\n                X = ").concat(o,", computedX = ").concat(m))}return!a&&c&&u&&(o=n/s,r.entropyChange=Math.log(o)*t.moles),!c&&a&&u&&(j=C(n=o*s,r.pressure_2,r.volume_2,r.temperature_2,t)),!u&&a&&c&&(h=C(s=n/o,r.pressure_1,r.volume_1,r.temperature_1,t)),h=x(h,t),j=x(j,t),r.temperature_1=h.temperature,r.pressure_1=h.pressure,r.volume_1=h.volume,r.temperature_2=j.temperature,r.pressure_2=j.pressure,r.volume_2=j.volume,r},flagsForKeysInPoint:v,InsufficientConstraintsError:f,IncompatibleConstraintsError:O},_=function(e,t){return k(e,t,E)},N=function(e,t){return k(e,t,H)},k=function(e,t,r){for(var a=[],n=0;n<e.length-1;n++){var s=n+1;a.push(r(e,n,s,t))}return a.push(r(e,e.length-1,0,t)),a},P=function(e){return{x:e.volume,y:e.pressure}},S=function(e){return d(e,"staticEntropy")?e.staticEntropy:e.entropy},M=function(e){return{x:S(e),y:e.temperature}};function H(e,t,r,a){if("isothermal"===e[t].type||"isentropic"===e[t].type)return[M(e[t]),M(e[r])];var n,s=R(S(e[t]),S(e[r]),100);return"isochoric"===e[t].type||"isobaric"===e[t].type?("isochoric"===e[t].type&&(n=a.isochoricHeatCapacity),"isobaric"===e[t].type&&(n=a.isochoricHeatCapacity+w.R),s.map((function(r){var s=Math.exp((r-S(e[t]))/a.moles)*Math.pow(e[t].temperature,n);return{y:Math.pow(s,1/n),x:r}}))):[M(e[t])]}function E(e,t,r,a){if("isobaric"===e[t].type||"isochoric"===e[t].type)return[P(e[t]),P(e[r])];var n=R(e[t].volume,e[r].volume,100);if("isothermal"===e[t].type){var s=e[t].pressure*e[t].volume;return n.map((function(e){return{x:e,y:s/e}}))}if("isentropic"===e[t].type){var o=Math.pow(e[t].pressure,a.isochoricHeatCapacity)*Math.pow(e[t].volume,a.isochoricHeatCapacity+w.R);return n.map((function(e){return{x:e,y:Math.pow(o/Math.pow(e,a.isochoricHeatCapacity+w.R),1/a.isochoricHeatCapacity)}}))}return[P(e[t])]}function R(e,t,r){for(var a=[],n=(t-e)/(r-1),s=0;s<r;s++)a.push(e+n*s);return a}var V=r(12),I=r(112),T=r(480),K=r(476),A=r(478),B=r(482),J=r(129),D=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"steps/updateProperties",index:e,newProperties:t,groupBy:r}},z=r(120),F=r.n(z),q=function(e){var t={type:"steps/setAll"};return"carnotCycle"===e&&(t.newSteps=[{staticEntropy:1,temperature:500,pressure:2e5,type:"isothermal"},{temperature:500,pressure:1e5,type:"isentropic"},{pressure:1e5,temperature:400,type:"isothermal"},{temperature:400,pressure:2e5,type:"isentropic"}]),"isobaricIsochoric"===e&&(t.newSteps=[{staticEntropy:0,pressure:1e5,volume:.05,type:"isochoric"},{pressure:2e5,volume:.05,type:"isobaric"},{pressure:2e5,volume:.15,type:"isochoric"},{pressure:1e5,volume:.15,type:"isobaric"}]),t},L=(r(341),r(5)),U=function(e){var t=e.label,r=e.value,s=e.readOnly,o=e.updateValue,c=e.updateKey,u=(e.text,n.a.useState(r)),l=Object(i.a)(u,2),p=l[0],d=l[1],h=function(){};s||(h=function(e){d(""===e?"":e)});var j=Object(a.useCallback)((function(){if(""!==p&&p!==r){var e=parseFloat(p),t={};t[c]=e;var a=["pressure","volume","temperature","moles"].includes(c)&&0===e;isNaN(e)||a?d(r):o(t)}}),[p,o,c,r]);return Object(a.useEffect)((function(){d(r)}),[r]),Object(a.useEffect)((function(){var e=setTimeout((function(){j()}),500);return function(){clearTimeout(e)}}),[p,j]),Object(L.jsxs)("div",{className:"field parameter-field",children:[Object(L.jsx)("label",{className:"parameter-field-label",children:t}),Object(L.jsx)("input",{type:"text",className:"parameter-field-value no-drag parameter-".concat(c),value:p,readOnly:s,onBlur:j,onChange:function(e){h(e.target.value)},disabled:s})]})},G=(r(240),function(e){var t=e.value,r=e.setValue;return Object(L.jsx)(A.a.Dropdown,{search:!0,selection:!0,options:[{key:"none",text:"(None)",value:"none"},{key:"isobaric",text:"Isobaric",value:"isobaric"},{key:"isochoric",text:"Isochoric",value:"isochoric"},{key:"isothermal",text:"Isothermal",value:"isothermal"},{key:"isentropic",text:"Isentropic",value:"isentropic"}],label:"Step Type",onChange:function(e,t){r(t.value)},value:t,className:"no-drag"})}),W=function(e){var t=e.step,r=e.index,a=e.setStep,n=e.deleteStep,s=e.deleteDisabled,o=!0;d(t,"staticEntropy")&&(t.entropy=t.staticEntropy,o=!1),d(t,"entropy")||(t.entropy=""),d(t,"entropyChange")||(t.entropyChange="");var i=function(e){a(r,e)},c={size:"small",icon:"trash",onClick:function(){n(r)},className:"no-drag"};s?c.disabled=!0:c.negative=!0;var u=[{label:"Pressure (Pa)",key:"pressure",readOnly:!1,updateKey:"pressure"},{label:"Volume (m^3)",key:"volume",readOnly:!1,updateKey:"volume"},{label:"Temperature (K)",key:"temperature",readOnly:!1,updateKey:"temperature"},{label:"Entropy (J/K)",key:"entropy",readOnly:o,updateKey:"staticEntropy"}];return Object(L.jsx)("div",{className:"ui container step-list-item",children:Object(L.jsxs)("div",{className:"ui large form",children:[Object(L.jsx)("div",{children:Object(L.jsxs)("h4",{className:"item-title",children:[Object(L.jsxs)("i",{className:"pad-right",children:["Point ",j(r+1)]}),Object(L.jsx)(B.a,Object(V.a)({},c))]})}),Object(L.jsx)("div",{className:"fields",children:u.map((function(e){return Object(L.jsx)(U,{label:e.label,value:t[e.key],readOnly:e.readOnly,updateValue:i,updateKey:e.updateKey},e.label)}))}),Object(L.jsxs)("div",{className:"fields",children:[Object(L.jsx)("div",{className:"step-list-dropdown-wrapper",children:Object(L.jsx)(G,{value:t.type,setValue:function(e){i({type:e})}})}),Object(L.jsx)(U,{label:"Entropy Change (J/K)",value:t.entropyChange,readOnly:!0,updateKey:"entropyChange",updateValue:i},"entropyChange"),Object(L.jsx)(U,{label:"Work done (J)",value:t.work,readOnly:!0,updateValue:i,updateKey:""},"work"),Object(L.jsx)(U,{label:"Heat supplied (J)",value:t.heat,readOnly:!0,updateValue:i,updateKey:""},"heat")]}),Object(L.jsx)("hr",{})]})})},X=r(299),Y=function(e){var t=e.system,r=(100*t.refrigerationCOP).toFixed(2),a=(100*t.heatingCOP).toFixed(2),n=(100*t.thermalEfficiency).toFixed(2);return Object(L.jsx)(T.a,{collapsing:!0,size:"large",children:Object(L.jsxs)(T.a.Body,{children:[Object(L.jsxs)(T.a.Row,{children:[Object(L.jsx)(T.a.Cell,{children:"Heat In"}),Object(L.jsxs)(T.a.Cell,{children:[t.heatIn.toFixed(2)," J"]})]}),Object(L.jsxs)(T.a.Row,{children:[Object(L.jsx)(T.a.Cell,{children:"Heat Out"}),Object(L.jsxs)(T.a.Cell,{children:[t.heatOut.toFixed(2)," J"]})]}),Object(L.jsxs)(T.a.Row,{children:[Object(L.jsx)(T.a.Cell,{children:"Net Work"}),Object(L.jsxs)(T.a.Cell,{children:[t.workNet.toFixed(2)," J"]})]}),r>0?Object(L.jsxs)(T.a.Row,{children:[Object(L.jsx)(T.a.Cell,{children:"Refrigeration efficiency"}),Object(L.jsxs)(T.a.Cell,{children:[r," %"]})]}):null,a>0?Object(L.jsxs)(T.a.Row,{children:[Object(L.jsx)(T.a.Cell,{children:"Heating efficiency (heat pump)"}),Object(L.jsxs)(T.a.Cell,{children:[a," %"]})]}):null,n>0?Object(L.jsxs)(T.a.Row,{children:[Object(L.jsx)(T.a.Cell,{children:"Thermal efficiency (engine)"}),Object(L.jsxs)(T.a.Cell,{children:[n," %"]})]}):null]})})},Z=Object(I.b)((function(e){return Object(V.a)(Object(V.a)({},e.present),{},{canUndo:e.past.length>0,canRedo:e.future.length>0})}),{steps_updateProperties:D,steps_add:function(e,t){return{type:"steps/add",index:e,newStep:t}},steps_reorder:function(e){return{type:"steps/setAll",newSteps:e,groupBy:"reorder"}},steps_delete:function(e){return{type:"steps/delete",index:e}},steps_reverse:function(e){var t=[];t.push(Object(V.a)(Object(V.a)({},e[0]),{},{type:e[m(0,{steps:e})].type}));for(var r=e.length-1;r>0;r--)t.push(Object(V.a)(Object(V.a)({},e[r]),{},{type:e[m(r,{steps:e})].type}));return{type:"steps/setAll",newSteps:t}},setPreset:q,system_setParams:function(e){return d(e,"isochoricHeatCapacityR")&&(e.isochoricHeatCapacity=e.isochoricHeatCapacityR*w.R),{type:"system/setParams",params:e}},onUndo:z.ActionCreators.undo,onRedo:z.ActionCreators.redo})((function(e){var t=e.steps,r=e.system,s=e.steps_updateProperties,o=e.steps_add,c=e.steps_reorder,u=e.steps_delete,l=e.setPreset,p=e.steps_reverse,d=e.system_setParams,h=e.canUndo,j=e.canRedo,m=e.onUndo,b=e.onRedo,y=e.showHelp,f=(e.setShowHelp,n.a.useState("")),O=Object(i.a)(f,2),v=O[0],x=O[1],g=n.a.useRef();Object(a.useEffect)((function(){""!==v&&(l(v),x(""))}),[v,l]);var C=t[t.length-1],_=!(t.length>1);_&&(u=function(){});return document.body.addEventListener("keydown",(function(e){"z"===e.key&&!0===e.ctrlKey&&m(),"y"===e.key&&!0===e.ctrlKey&&b()})),Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{className:"ui container",children:[Object(L.jsxs)("div",{className:"ui large form",children:[Object(L.jsxs)("div",{className:"fields",children:[Object(L.jsx)(K.a,{trigger:Object(L.jsx)("div",{className:"field",children:Object(L.jsx)(A.a.Dropdown,{search:!0,selection:!0,options:[{text:"",value:"",id:"none"},{text:"Carnot Cycle",value:"carnotCycle",id:"carnotCycle"},{text:"Isobaric & Isochoric",value:"isobaricIsochoric",id:"isobaricIsochoric"}],placeholder:"Select a preset",onChange:function(e,t){x(t.value)},value:v,className:""})}),content:"Various common cycles can be selected from available presets",position:"top center",open:y,size:"large"}),Object(L.jsx)(K.a,{trigger:Object(L.jsx)("div",{className:"field",children:Object(L.jsx)(B.a,{primary:!0,onClick:function(){p(t)},className:"button-fill-height",children:"Reverse Cycle"})}),content:"Swaps the order of points in the cycle, alternating between a heat engine or heat pump configuration",open:y,size:"large"}),Object(L.jsxs)("div",{className:"field",children:[Object(L.jsxs)(B.a,{icon:!0,labelPosition:"right",disabled:!h,onClick:m,className:"button-fill-height",children:["Undo",Object(L.jsx)(J.a,{name:"undo"})]}),Object(L.jsxs)(B.a,{icon:!0,labelPosition:"right",disabled:!j,onClick:b,className:"button-fill-height",children:["Redo",Object(L.jsx)(J.a,{name:"redo"})]})]})]}),Object(L.jsxs)("div",{className:"fields",children:[Object(L.jsx)(K.a,{trigger:Object(L.jsx)(U,{label:"Moles of gas (mol)",value:r.moles,updateKey:"moles",updateValue:d},"moles"),content:"System parameters can be updated by typing in the boxes",open:y,position:"left center",size:"large"}),Object(L.jsx)(U,{label:"Isochoric heat capacity (J/K)",value:r.isochoricHeatCapacity,updateKey:"isochoricHeatCapacity",updateValue:d},"isochoricHeatCapacity"),Object(L.jsx)(U,{label:"Isochoric heat capacity (R)",value:r.isochoricHeatCapacity/w.R,updateKey:"isochoricHeatCapacityR",updateValue:d},"isochoricHeatCapacityR")]})]}),Object(L.jsx)(Y,{system:r}),Object(L.jsx)("hr",{})]}),Object(L.jsx)(X.ReactSortable,{list:t,setList:c,filter:".no-drag",handle:".container",preventOnFilter:!1,chosenClass:"selected-list-item",children:t.map((function(e,t){var r=Object(L.jsx)(W,{step:e,index:t,setStep:s,deleteStep:u,deleteDisabled:_});return Object(L.jsx)("div",{className:"item",children:0===t?Object(L.jsx)(K.a,{trigger:Object(L.jsx)("div",{ref:g,children:r}),content:"Each step can be dragged to reorder it in the list",open:y,position:"top center",size:"large",offset:function(e){e.popper,e.reference,e.placement;console.log(g.current);var t=g.current.getBoundingClientRect().top;return console.log(t-window.innerHeight),t-window.innerHeight>0?[0,t-window.innerHeight]:[0,0]}}):r},t)}))}),Object(L.jsx)("div",{className:"ui container",children:Object(L.jsx)(B.a,{primary:!0,onClick:function(){o(-1,{pressure:C.pressure+100,volume:C.volume+.2,temperature:void 0,type:"none"})},children:"Add step"})})]})})),Q=r(41),$=r(481),ee=r(487),te=r(477),re=r(488),ae=r(288),ne=r(486),se=function(e){var t=e.datum.canvasDraggable,r=e.datum.mouseLoc,s=e.datum.posSetter,o=n.a.useState(!1),c=Object(i.a)(o,2),u=c[0],l=c[1],p=n.a.useState(!1),d=Object(i.a)(p,2),h=d[0],j=d[1];return Object(a.useEffect)((function(){!t&&u&&l(!1)}),[t,u]),Object(a.useEffect)((function(){u&&s(r.x,r.y)}),[r,u,s]),Object(L.jsx)("circle",{cx:e.x,cy:e.y,r:4,fill:u||h?"gold":"#c43a31",onMouseDown:function(e){l(!0)},onMouseOver:function(){j(!0)},onMouseOut:function(){j(!1)}})},oe=Object(I.b)((function(e){return e.present}),{steps_updateProperties:D})((function(e){for(var t=e.steps,r=e.system,s=e.steps_updateProperties,o=e.xkey,c=e.ykey,u=e.xlabel,l=e.ylabel,p=e.dataPointsGenerator,h=0;h<t.length;h++)d(t[h],"staticEntropy")&&(t[h].entropy=t[h].staticEntropy);var m,b=n.a.useState(!1),y=Object(i.a)(b,2),f=y[0],O=y[1],v=n.a.useState({x:null,y:null}),x=Object(i.a)(v,2),g=x[0],C=x[1],w=n.a.useState(0),_=Object(i.a)(w,2),N=_[0],k=_[1],P=n.a.useState(.1),S=Object(i.a)(P,2),M=S[0],H=S[1],E=n.a.useState(5e5),R=Object(i.a)(E,2),V=R[0],I=R[1],T=function(e){return function(r,a){var n={};"entropy"===o&&d(t[e],"staticEntropy")&&(n.staticEntropy=r),n[o]=r,n[c]=a,s(e,n,{index:e,xkey:o})}},K=p(t,r),A=t.map((function(e,t){return{x:e[o],y:e[c],posSetter:T(t),canvasDraggable:f,mouseLoc:g,index:t}}));m="entropy"===o?{x:N-.1*(M-N),y:0}:{x:0,y:0};var B={x:M+.1*(M-N),y:1.1*V};return Object(a.useEffect)((function(){var e=function(){return Math.max.apply(Math,Object(Q.a)(t.map((function(e){return e[c]}))))},r=t.map((function(e){return e[o]}));"entropy"===o&&(f||k(Math.min.apply(Math,Object(Q.a)(r))),f&&g.x<1.06*N&&k(Math.min.apply(Math,Object(Q.a)(r)))),f||(H(Math.max.apply(Math,Object(Q.a)(r))),I(e())),f&&g.x>1.06*M&&H(Math.max.apply(Math,Object(Q.a)(r))),f&&g.y>1.06*V&&I(e())}),[t,f,g,M,V,N,o,c]),Object(L.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(L.jsxs)($.a,{height:500,width:500,padding:{top:20,bottom:60,left:100,right:20},minDomain:m,maxDomain:B,events:[{target:"parent",eventHandlers:{onMouseDown:function(){O(!0)},onMouseUp:function(){O(!1)}}}],containerComponent:Object(L.jsx)(ee.a,{onCursorChange:function(e,t){null!==e&&C({x:e.x,y:e.y})},cursorComponent:Object(L.jsx)("div",{})}),children:[K.map((function(e){return Object(L.jsx)(te.a,{interpolation:"linear",data:e,style:{data:{stroke:"#c43a31"}}},e[0])})),Object(L.jsx)(re.a,{data:A,dataComponent:Object(L.jsx)(se,{}),labels:[],labelComponent:Object(L.jsx)(ae.a,{text:function(e){var t=e.datum;if(void 0!==t)return j(t.index+1)},dx:10,textAnchor:"middle",verticalAnchor:"middle"})}),Object(L.jsx)(ne.a,{label:u,style:{axisLabel:{padding:33}}}),Object(L.jsx)(ne.a,{dependentAxis:!0,label:l,style:{axisLabel:{padding:78}}})]})})})),ie=(r(451),r(484)),ce=r(312),ue=r.p+"static/media/logo512.7e883426.png",le=r(35),pe=r.n(le),de=function(){var e=n.a.useState(!1),t=Object(i.a)(e,2),r=t[0],a=t[1],s=n.a.useState(!1),o=Object(i.a)(s,2),c=o[0],u=o[1];return Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"ui container",children:Object(L.jsxs)(ie.a,{size:"huge",children:[Object(L.jsx)(ce.a,{circular:!0,src:ue}),"Thermodynamic Cycle Solver",Object(L.jsxs)(B.a,{floated:"right",as:"a",href:"https://github.com/TheMuonNeutrino/thermodynamic-cycle-solver",children:[Object(L.jsx)(J.a,{name:"github"})," GitHub"]}),Object(L.jsx)(B.a,{floated:"right",onClick:function(){u(!c),a(!1)},children:"About"}),Object(L.jsx)(K.a,{on:"click",trigger:Object(L.jsxs)(B.a,{floated:"right",children:[Object(L.jsx)(J.a,{name:"question"})," Help"]}),content:Object(L.jsxs)("p",{children:["Keyboard shortcuts: ",Object(L.jsx)("br",{}),"Ctrl+Z to undo ",Object(L.jsx)("br",{})," Ctrl + Y to redo"]}),onOpen:function(){a(!0),u(!1)},onClose:function(){a(!1)},size:"large"}),Object(L.jsx)("br",{})]})}),c?Object(L.jsx)(pe.a.Provider,{children:Object(L.jsxs)("div",{className:"ui container",style:{fontSize:"large"},children:[Object(L.jsxs)("p",{children:["This app is designed to provide insight into various thermodynamic cycles, providing an interactive interface within which to explore these. The thermodynamic model used applies specifically to ideal gases.",Object(L.jsx)("br",{}),"Most central to this are the pair of contraint equations used in computing the position of the points:"]}),Object(L.jsx)(pe.a.Node,{formula:"PV=nRT"}),Object(L.jsx)(pe.a.Node,{formula:"exp(\\frac{\\Delta S}{n}) = \\left(  \\frac{T_2}{T_1}  \\right)^{C_v}\n                            \\left(  \\frac{V_2}{V_1}  \\right)^R = \\left(  \\frac{P_2}{P_1}  \\right)^{C_V} \n                            \\left(  \\frac{V_2}{V_1}  \\right)^{(C_V + R)}"}),Object(L.jsxs)("p",{children:["where ",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"P"})," is pressure, ",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"V"})," is volume, ",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"T"})," is temperature, ",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"n"})," is the number of moles in the system, ",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"R"})," is the gas constant, \xa0",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"\\Delta S"})," is the entropy change for the step and \xa0",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"C_v"})," is the isochoric heat capacity of the system."]}),Object(L.jsxs)("p",{children:["Additionally, constraints must be applied to each step which correspond to its type and take the form of a conserved quantity: pressure for isobaric steps, volume for isochoric steps, temperature for isothermal steps and entropy for isentropic steps. When updating a particular point, only its neighbours are repositioned. To compute the new position of the neighbouring point, two parameters of the set ",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"\\{P,V,T,S\\}"})," must be computed for the point. One of these will be contributed by the conserved quantity from the prior step and the other by the conserved quantity for the subsequent step."]}),Object(L.jsxs)("p",{children:["Consider for example: A \u2192 B is an isobaric step, B \u2192 C is an isentropic step. When A is repositioned, the pressure at B will be set equal to the pressure at A, while the entropy change between B and C will be set to zero. The second equation above will then be used to compute the volume and temperature at B, populating ",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"P_2"}),",",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"V_2"})," and ",Object(L.jsx)(pe.a.Node,{inline:!0,formula:"T_2"}),"with the values at point C."]}),Object(L.jsxs)("p",{children:["This project is built in ReactJS. Notably, the following libraries were used: react-redux, react-mathjax, semantic-ui-react, react-sortablejs and victory (charting and data visualisation).",Object(L.jsx)("br",{}),"Copyright \xa9 Marek Cottingham 2021.",Object(L.jsx)("br",{}),"Licensed under GNU GPL-3.0-or-later."]})]})}):null,Object(L.jsxs)("div",{className:"grid-container",children:[Object(L.jsx)("div",{className:"grid-itemA",children:Object(L.jsx)(K.a,{trigger:Object(L.jsx)(oe,{xkey:"volume",ykey:"pressure",xlabel:"Volume (m^3)",ylabel:"Pressure (Pa)",dataPointsGenerator:_}),content:Object(L.jsxs)("p",{children:["Drag and drop points on either graph in order to modify the cycle",Object(L.jsx)("br",{}),Object(L.jsx)("b",{children:"Close the help screen first"})]}),open:r,position:"left center",size:"large"})}),Object(L.jsx)("div",{className:"grid-itemB",children:Object(L.jsx)(oe,{xkey:"entropy",ykey:"temperature",xlabel:"Entropy (J/K)",ylabel:"Temperature (K)",dataPointsGenerator:N})}),Object(L.jsx)("div",{className:"grid-itemMain",children:Object(L.jsx)(Z,{showHelp:r,setShowHelp:a})})]})]})},he=r(313),je={system:{moles:1,isochoricHeatCapacity:2.5*w.R},steps:[]};je.steps.push({pressure:1e4,volume:1,temperature:1e4/w.R,staticEntropy:0,type:"none"});var me=function(e,t,r,a){var n=Object(V.a)({},e.steps[t]);n=w.solvePVT(n,e.system);var s=a(t,e),o=a(s,e),i=e.steps[s],c=r(n,i,e.steps[o],e.system);return c===i?[Object(V.a)(Object(V.a)({},e),{},{steps:Oe(e.steps,t,n)}),!0]:(i=w.solvePVT(c,e.system),[Object(V.a)(Object(V.a)({},e),{},{steps:Oe(Oe(e.steps,s,i),t,n)}),!1])},be=function(e,t){return me(e,t,ke,b)},ye=function(e,t){return me(e,t,Pe,m)},fe=function(e,t){!function(e){if(d(e,"type")&&!["none","isobaric","isochoric","isothermal","isentropic"].includes(e.type))throw new Error("Step type must be one of 'none','isobaric','isochoric','isothermal' or 'isentropic'\n                not ".concat(e.type))}(t.newStep),e=Object(V.a)(Object(V.a)({},e),{},{steps:Oe(e.steps,t.index,t.newStep)});var r=t.index;return e=Me(e=function(e,t,r,a){return Ee(e,t,r,a,m)}(e=function(e,t,r,a){return Ee(e,t,r,a,b)}(e,r,be,we(r)),r,ye,we(r)),(function(e,t){return function(e,t){var r=Object(V.a)({},e.steps[t]),a=b(t,e),n=Object(V.a)({},e.steps[a]);if("none"!==r.type&&1!==e.steps.length){"isentropic"===r.type?r.entropyChange=0:r.entropyChange=function(e,t,r){return w.solveEntropyChange({pressure_1:e.pressure,volume_1:e.volume,temperature_1:e.temperature,pressure_2:t.pressure,volume_2:t.volume,temperature_2:t.temperature},r.system).entropyChange}(r,n,e);var s=function(e){return d(e,"staticEntropy")?e.staticEntropy:e.entropy}(r);n.entropy=s+r.entropyChange}return Object(V.a)(Object(V.a)({},e),{},{steps:Oe(Oe(e.steps,a,n),t,r)})}(e,t)})),e=function(e){var t=Object(V.a)({},e.system);return t.heatIn=0,t.heatOut=0,t.workIn=0,t.workOut=0,Me(e,(function(e,r){var a=e.steps[r];return a.heat>0?t.heatIn+=a.heat:t.heatOut-=a.heat,a.work>0?t.workOut+=a.work:t.workIn-=a.work,e})),t.workNet=t.workOut-t.workIn,t.heatNet=t.heatOut-t.heatIn,t.refrigerationCOP=-t.heatIn/t.workNet,t.heatingCOP=-t.heatOut/t.workNet,t.thermalEfficiency=t.workNet/t.heatIn,Object(V.a)(Object(V.a)({},e),{},{system:t})}(e=Me(e,(function(e,t){return function(e,t){var r=Object(V.a)({},e.steps[t]),a=b(t,e),n=Object(V.a)({},e.steps[a]),s=e.system;"isochoric"===r.type&&(r.work=0,r.heat=s.moles*s.isochoricHeatCapacity*(n.temperature-r.temperature));"isothermal"===r.type&&(r.heat=e.system.moles*w.R*r.temperature*Math.log(n.volume/r.volume),r.work=r.heat);"isobaric"===r.type&&(r.work=(n.volume-r.volume)*r.pressure,r.heat=s.moles*s.isochoricHeatCapacity*(n.temperature-r.temperature)+r.work);"isentropic"===r.type&&(r.work=-s.moles*s.isochoricHeatCapacity*(n.temperature-r.temperature),r.heat=0);return Object(V.a)(Object(V.a)({},e),{},{steps:Oe(e.steps,t,r)})}(e,t)})))},Oe=function(e,t,r){return[].concat(Object(Q.a)(e.slice(0,t)),[r],Object(Q.a)(e.slice(t+1)))},ve=function(e,t,r,a){return a=w.solvePVT(a,t),r===e.length||-1===r?[].concat(Object(Q.a)(e),[a]):[].concat(Object(Q.a)(e.slice(0,r)),[a],Object(Q.a)(e.slice(r)))},xe=function(e,t){return e.length>1?[].concat(Object(Q.a)(e.slice(0,t)),Object(Q.a)(e.slice(t+1))):e},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;if("steps/update"===t.type)return fe(e,t);if("steps/updateProperties"===t.type)return t=Se(t),fe(e,{index:t.index,newStep:Object(V.a)(Object(V.a)({},e.steps[t.index]),t.newProperties)});if("steps/add"===t.type)return Object(V.a)(Object(V.a)({},e),{},{steps:ve(e.steps,e.system,t.index,t.newStep)});if("steps/delete"===t.type)return Ce(e=Object(V.a)(Object(V.a)({},e),{},{steps:xe(e.steps,t.index)}));if("system/setParams"===t.type){var r=Object(V.a)(Object(V.a)({},e),{},{system:Object(V.a)(Object(V.a)({},e.system),t.params)});return r=Ce(r=Me(r,He))}return"steps/setAll"===t.type?Ce(e=Object(V.a)(Object(V.a)({},e),{},{steps:t.newSteps})):e};function Ce(e){return Me(e,(function(e,t){return fe(e,{index:t,newStep:e.steps[t]})}))}function we(e){return function(t,r,a){return!(r===e&&void 0!==a)&&!a}}function _e(e,t,r,a,n,s){if("isobaric"===a.type&&e.pressure!==t.pressure&&(t=Object(V.a)(Object(V.a)({},t),{},{pressure:e.pressure}),["none","isobaric","isochoric"].includes(n.type)&&(t.temperature=void 0),"isothermal"===n.type&&(t.volume=void 0),t=Ne(n,r,t,s,{pressure_2:t.pressure})),"isochoric"===a.type&&e.volume!==t.volume&&(t=Object(V.a)(Object(V.a)({},t),{},{volume:e.volume}),["none","isobaric","isochoric"].includes(n.type)&&(t.temperature=void 0),"isothermal"===n.type&&(t.pressure=void 0),t=Ne(n,r,t,s,{volume_2:t.volume})),"isothermal"===a.type&&e.temperature!==t.temperature&&(t=Object(V.a)(Object(V.a)({},t),{},{temperature:e.temperature}),["none","isobaric","isothermal"].includes(n.type)&&(t.volume=void 0),"isochoric"===n.type&&(t.pressure=void 0),t=Ne(n,r,t,s,{temperature_2:t.temperature})),"isentropic"===a.type){var o=w.solveEntropyChange({volume_1:e.volume,volume_2:t.volume,pressure_1:e.pressure,pressure_2:t.pressure,temperature_1:e.temperature,temperature_2:t.temperature},s).entropyChange;if(Math.abs(o)>5e-6){var i={entropyChange:0,volume_1:e.volume,pressure_1:e.pressure};["none","isentropic","isothermal"].includes(n.type)&&(i.temperature_2=t.temperature),"isobaric"===n.type&&(i.pressure_2=t.pressure),"isochoric"===n.type&&(i.volume_2=t.volume);var c=w.solveEntropyChange(i,s);t=Object(V.a)(Object(V.a)({},t),{},{pressure:c.pressure_2,volume:c.volume_2,temperature:c.temperature_2})}}return t}function Ne(e,t,r,a,n){if("isentropic"===e.type){var s=Object(V.a)(Object(V.a)({},n),{},{volume_1:t.volume,pressure_1:t.pressure,entropyChange:0}),o=w.solveEntropyChange(s,a);(r=Object(V.a)(Object(V.a)({},r),{},{pressure:void 0})).pressure=o.pressure_2,r.temperature=o.temperature_2,r.volume=o.volume_2}return r}function ke(e,t,r,a){return _e(e,t,r,e,t,a)}function Pe(e,t,r,a){return _e(e,t,r,t,r,a)}function Se(e){if(h(e.newProperties,"temperature")||h(e.newProperties,"pressure")||h(e.newProperties,"volume"))return e;var t=w.flagsForKeysInPoint(e.newProperties),r=Object(i.a)(t,3),a=r[0],n=a+r[1]+r[2];return 2===n&&["volume","temperature","pressure"].forEach((function(t){d(e.newProperties,t)||(e.newProperties[t]=void 0)})),1===n&&(a?e.newProperties.volume=void 0:e.newProperties.temperature=void 0),e}function Me(e,t){for(var r=0;r<e.steps.length;r++)e=t(e,r);return e}function He(e,t){return Object(V.a)(Object(V.a)({},e),{},{steps:Oe(e.steps,t,w.solvePVT(Object(V.a)(Object(V.a)({},e.steps[t]),{},{temperature:void 0}),e.system))})}function Ee(e,t,r,a,n){for(var s,o=t;a(e,o,s);){var c=r(e,o),u=Object(i.a)(c,2);e=u[0],s=u[1],o=n(o,e)}return e}var Re=Object(he.a)(F()(ge,{groupBy:function(e,t,r){return d(e,"groupBy")?null===e.groupBy?null:"".concat(e.groupBy.index,"-").concat(e.groupBy.xkey):null}}));Re.dispatch(q("carnotCycle")),Re.dispatch(z.ActionCreators.clearHistory()),o.a.render(Object(L.jsx)(I.a,{store:Re,children:Object(L.jsx)(de,{})}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.9ab53fb4.chunk.js.map